<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_picking_form_inherit_cn_dn" model="ir.ui.view">
        <field name="name">stock.picking.view.form.inherit</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <!-- <xpath expr="//header" position="inside">
                <button name="action_transfer_whole_dn" attrs="{'invisible': [('show_mark_as_todo', '=', False)]}" string="Transfer whole DN" type="object" class="oe_highlight"/>
            </xpath> -->
            <header position="inside">
                <button name="action_load_products_in_cn" type="object" class="btn-primary" title="Load Lines In Carton" attrs="{'invisible': [('state', 'not in', ['assigned', 'draft', 'confirmed'])]}">
                    <span>Load Lines In Carton</span>
                </button>
                <button name="action_load_cn_dn_lines" type="object" class="btn-primary" title="Auto Fill Moves" attrs="{'invisible': ['|', ('state', 'not in', ('assigned', 'waiting', 'confirmed')), ('picking_type_code', 'in', ['incoming'])]}" groups="cn_dn_customisation.group_auto_fill_cn_dn">
                    <span>Auto Fill Moves</span>
                </button>
                <button name="action_load_cn_dn_lines" type="object" class="btn-primary" title="Quotation Auto Fill Moves" attrs="{'invisible': ['|', ('state', 'not in', ('assigned', 'waiting', 'confirmed')), ('picking_type_code', 'in', ['incoming'])]}" groups="cn_dn_customisation.group_so_auto_fill_cn_dn" context="{'is_sale_auto_fill': 1}">
                    <span>Quotation Auto Fill Moves</span>
                </button>
            </header>
            <field name="partner_id" position="after">
                <field name="dn_id" force_save="True"/>
                <field name="use_in_backorder" attrs="{'readonly': [('state', 'in', ['cancel', 'done'])]}"/>
                <field name="is_return_order"/>
            </field>
        </field>
    </record>

    <!-- <record id="view_stock_return_picking_form_inherited" model="ir.ui.view">
        <field name="name">Return lines Inherited</field>
        <field name="model">stock.return.picking</field>
        <field name="inherit_id" ref="stock.view_stock_return_picking_form"/>
        <field name="arch" type="xml">
            <field name="product_return_moves" position="after">
                <group>
                    <group>
                        <field name="picking_id" invisible="1"/>
                        <field name="is_sale_return_new_dn" attrs="{'invisible': [('picking_id.purchase_id', '=', True)]}"/>
                    </group>
                </group>
            </field>
        </field>
    </record> -->

    <record id="stock_scrap_form_view_extended" model="ir.ui.view">
        <field name="name">stock.scrap.form2.inherited</field>
        <field name="model">stock.scrap</field>
        <field name="inherit_id" ref="stock.stock_scrap_form_view"/>
        <field name="arch" type="xml">
            <field name="lot_id" position="before">
                <field name="lot_id" invisible="1"/>
                <field name="dn_id" domain="[('picking_code', 'in', [])]"/>
                <field name="available_qty" attrs="{'invisible': [('lot_id', '=', False)]}"/>            </field>
        </field>
    </record>


    <record id="stock_scrap_form_view2_extended" model="ir.ui.view">
        <field name="name">stock.scrap.form2.inherited</field>
        <field name="model">stock.scrap</field>
        <field name="inherit_id" ref="stock.stock_scrap_form_view2"/>
        <field name="arch" type="xml">
            <field name="lot_id" position="before">
                <field name="lot_id" invisible="1"/>
                <field name="dn_id" domain="[('picking_code', 'in', [])]"/>
                <field name="available_qty" attrs="{'invisible': [('lot_id', '=', False)]}"/>
            </field>
        </field>
    </record>

<!--     <record id="view_stock_return_picking_form" model="ir.ui.view">
        <field name="name">Return lines</field>
        <field name="model">stock.return.picking</field>
        <field name="inherit_id" ref="stock.view_stock_return_picking_form"/>
        <field name="arch" type="xml">
            <field name="product_return_moves" position="after">
                <group>
                    <group>
                        <field name="code"/>
                        <field name="is_sale_return_new_dn" attrs="{'invisible': [('code', '!=', 'outgoing')]}"/>
                    </group>
                </group>
            </field>
        </field>
    </record>
 -->
</odoo>
