<odoo>
    <record id="view_inventory_valuation_search_pos" model="ir.ui.view">
        <field name="name">inventory.valuation.search.pos</field>
        <field name="model">stock.valuation.layer</field>
        <field name="inherit_id" ref="stock_account.view_inventory_valuation_search"/>
        <field name="arch" type="xml">
            <xpath expr="//search" position="inside">
                <!-- Add Filters -->
                <filter string="POS Configuration" name="pos_config_id" domain="[('pos_config_id', '!=', False)]"/>
                <filter string="POS Session" name="pos_session_id" domain="[('pos_session_id', '!=', False)]"/>

                <!-- Add Group By -->
                <group expand="0" string="Group By">
                    <filter string="POS Configuration" context="{'group_by': 'pos_config_id'}"/>
                    <filter string="POS Session" context="{'group_by': 'pos_session_id'}"/>
                </group>
            </xpath>
        </field>
    </record>
</odoo>
